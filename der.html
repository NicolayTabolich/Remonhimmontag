<!DOCTYPE html>
<html lang="ru">

<head>
   <meta charset="UTF-8">
   <meta name="viewport" content="width=device-width, initial-scale=1.0">
   <title>Новостной блок с последними новостями</title>
   <style>
      /* Все предыдущие стили остаются */

      /* Добавляем стили для блока последних новостей */
      .latest-news {
         margin-bottom: 40px;
      }

      .latest-news h2 {
         font-size: 2rem;
         color: #2c3e50;
         margin-bottom: 20px;
         text-align: center;
         border-bottom: 2px solid #3498db;
         padding-bottom: 10px;
      }

      .latest-news-grid {
         display: grid;
         grid-template-columns: repeat(auto-fit, minmax(350px, 1fr));
         gap: 20px;
      }

      .latest-news-card {
         background: white;
         border-radius: 8px;
         overflow: hidden;
         box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
         transition: transform 0.3s ease, box-shadow 0.3s ease;
         cursor: pointer;
         /* Добавляем курсор указателя для всей карточки */
      }

      .latest-news-card:hover {
         transform: translateY(-5px);
         box-shadow: 0 6px 12px rgba(0, 0, 0, 0.15);
      }

      .latest-news-image {
         width: 100%;
         height: 200px;
         object-fit: cover;
      }

      .latest-news-content {
         padding: 15px;
      }

      .latest-news-date {
         color: #7f8c8d;
         font-size: 0.85rem;
         margin-bottom: 8px;
      }

      .latest-news-title {
         font-size: 1.2rem;
         margin-bottom: 10px;
         color: #2c3e50;
      }

      .latest-news-summary {
         color: #555;
         font-size: 0.9rem;
         margin-bottom: 12px;
         line-height: 1.5;
      }

      /* Убираем кнопку "Читать далее" для последних новостей */

      /* Остальные стили остаются без изменений */
      * {
         margin: 0;
         padding: 0;
         box-sizing: border-box;
         font-family: 'Arial', sans-serif;
      }

      body {
         background-color: #f5f5f5;
         color: #333;
         line-height: 1.6;
      }

      .news__container {
         max-width: 1440px;
         margin: 0 auto;
         padding: 0 15px;
      }

      header {
         background-color: #2c3e50;
         color: white;
         padding: 20px 0;
         text-align: center;
         margin-bottom: 30px;
      }

      h1 {
         font-size: 2.5rem;
         margin-bottom: 10px;
      }

      .filters {
         display: flex;
         justify-content: center;
         gap: 20px;
         margin-bottom: 30px;
         flex-wrap: wrap;
      }

      .filter-group {
         display: flex;
         align-items: center;
         gap: 10px;
      }

      .filter-group label {
         font-weight: bold;
      }

      select {
         padding: 8px 12px;
         border: 1px solid #ddd;
         border-radius: 4px;
         background-color: white;
         font-size: 1rem;
      }

      .news-grid {
         display: grid;
         grid-template-columns: repeat(auto-fill, minmax(400px, 1fr));
         gap: 25px;
         margin-bottom: 40px;
      }

      .news-card {
         background-color: white;
         border-radius: 8px;
         overflow: hidden;
         box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
         transition: transform 0.3s ease;
         cursor: pointer;
         /* Добавляем курсор указателя для всей карточки */
      }

      .news-card:hover {
         transform: translateY(-5px);
      }

      .news-image {
         width: 100%;
         height: 200px;
         object-fit: cover;
      }

      .news-content {
         padding: 20px;
      }

      .news-date {
         color: #7f8c8d;
         font-size: 0.9rem;
         margin-bottom: 10px;
      }

      .news-title {
         font-size: 1.3rem;
         margin-bottom: 10px;
         color: #2c3e50;
      }

      .news-summary {
         color: #555;
         margin-bottom: 15px;
      }

      /* Убираем ссылку "Читать далее" для обычных новостей */

      .modal {
         display: none;
         position: fixed;
         top: 0;
         left: 0;
         width: 100%;
         height: 100%;
         background-color: rgba(0, 0, 0, 0.8);
         z-index: 1000;
         overflow-y: auto;
      }

      .modal-content {
         background-color: white;
         margin: 30px auto;
         padding: 30px;
         border-radius: 8px;
         max-width: 1000px;
         width: 90%;
         position: relative;
      }

      .close-modal {
         position: absolute;
         top: 15px;
         right: 15px;
         font-size: 1.5rem;
         cursor: pointer;
         color: #7f8c8d;
         z-index: 10;
      }

      .modal-title {
         font-size: 1.8rem;
         margin-bottom: 15px;
         color: #2c3e50;
      }

      .modal-date {
         color: #7f8c8d;
         margin-bottom: 20px;
      }

      .modal-main-image {
         width: 100%;
         margin-bottom: 25px;
         border-radius: 8px;
         overflow: hidden;
      }

      .modal-main-image img {
         width: 100%;
         height: 400px;
         object-fit: cover;
      }

      .modal-text {
         margin-bottom: 25px;
         line-height: 1.7;
      }

      .modal-gallery {
         margin-top: 30px;
      }

      .gallery-title {
         font-size: 1.3rem;
         margin-bottom: 15px;
         color: #2c3e50;
      }

      .news_news_news_slider_container {
         position: relative;
         width: 100%;
         overflow: hidden;
         border-radius: 8px;
         touch-action: pan-y;
      }

      .news_news_slider {
         display: flex;
         transition: transform 0.5s ease;
      }

      .news_slide {
         min-width: 100%;
         position: relative;
      }

      .news_slide img {
         width: 100%;
         height: 400px;
         object-fit: cover;
         cursor: pointer;
         user-select: none;
      }

      .news_news_slider-arrow {
         position: absolute;
         top: 50%;
         transform: translateY(-50%);
         background-color: rgba(0, 0, 0, 0.5);
         color: white;
         border: none;
         width: 40px;
         height: 40px;
         border-radius: 50%;
         font-size: 1.2rem;
         cursor: pointer;
         display: flex;
         align-items: center;
         justify-content: center;
         transition: background-color 0.3s;
         z-index: 5;
      }

      .news_news_slider-arrow:hover {
         background-color: rgba(0, 0, 0, 0.7);
      }

      .news_news_slider-arrow.prev {
         left: 15px;
      }

      .news_news_slider-arrow.next {
         right: 15px;
      }

      .news_news_slider-controls {
         display: flex;
         justify-content: center;
         align-items: center;
         margin-top: 15px;
         gap: 10px;
      }

      .news_news_slider-news_dots {
         display: flex;
         gap: 8px;
      }

      .news_dot {
         width: 10px;
         height: 10px;
         border-radius: 50%;
         background-color: #bdc3c7;
         cursor: pointer;
         transition: background-color 0.3s;
      }

      .news_dot.active {
         background-color: #3498db;
      }

      .fullscreen-image {
         display: none;
         position: fixed;
         top: 0;
         left: 0;
         width: 100%;
         height: 100%;
         background-color: rgba(0, 0, 0, 0.95);
         z-index: 2000;
         justify-content: center;
         align-items: center;
         flex-direction: column;
         touch-action: pan-y;
      }

      .fullscreen-container {
         position: relative;
         width: 100%;
         height: 100%;
         display: flex;
         justify-content: center;
         align-items: center;
      }

      .fullscreen-image img {
         max-width: 95%;
         height: 85%;
         object-fit: contain;
         user-select: none;
      }

      .fullscreen-caption {
         color: white;
         margin-top: 15px;
         font-size: 1.1rem;
      }

      .fullscreen-arrow {
         position: absolute;
         top: 50%;
         transform: translateY(-50%);
         background-color: rgba(255, 255, 255, 0.2);
         color: white;
         border: none;
         width: 50px;
         height: 50px;
         border-radius: 50%;
         font-size: 1.5rem;
         cursor: pointer;
         display: flex;
         align-items: center;
         justify-content: center;
         transition: background-color 0.3s;
         z-index: 5;
      }

      .fullscreen-arrow:hover {
         background-color: rgba(255, 255, 255, 0.4);
      }

      .fullscreen-arrow.prev {
         left: 30px;
      }

      .fullscreen-arrow.next {
         right: 30px;
      }

      .close-fullscreen {
         position: absolute;
         top: 20px;
         right: 30px;
         color: white;
         font-size: 2rem;
         cursor: pointer;
         z-index: 10;
      }

      .pagination {
         display: flex;
         justify-content: center;
         gap: 10px;
         margin-top: 30px;
      }

      .page-btn {
         padding: 8px 15px;
         border: 1px solid #ddd;
         background-color: white;
         border-radius: 4px;
         cursor: pointer;
         transition: background-color 0.3s;
      }

      .page-btn.active {
         background-color: #3498db;
         color: white;
         border-color: #3498db;
      }

      .page-btn:hover:not(.active) {
         background-color: #f1f1f1;
      }

      @media (max-width: 768px) {
         .latest-news-grid {
            grid-template-columns: 1fr;
         }

         .news-grid {
            grid-template-columns: 1fr;
         }

         .modal-content {
            margin: 20px;
            padding: 20px;
         }

         .modal-main-image img {
            height: 250px;
         }

         .news_slide img {
            height: 250px;
         }

         .news_news_slider-arrow {
            width: 30px;
            height: 30px;
            font-size: 1rem;
         }

         .fullscreen-arrow {
            width: 40px;
            height: 40px;
            font-size: 1.2rem;
         }

         .fullscreen-arrow.prev {
            left: 10px;
         }

         .fullscreen-arrow.next {
            right: 10px;
         }
      }
   </style>
</head>

<body>
   <header>
      <div class="container">
         <h1>Новостной портал</h1>
         <p>Самые свежие и актуальные новости</p>
      </div>
   </header>

   <section class="news__container">
      <!-- Блок последних новостей -->
      <section class="latest-news">
         <h2>Последние новости</h2>
         <div class="latest-news-grid" id="latest-news-container">
            <!-- Последние новости будут загружены через JavaScript -->
         </div>
      </section>

      <!-- Остальная часть страницы -->
      <section class="all-news">
         <h2>Все новости</h2>
         <div class="filters">
            <div class="filter-group">
               <label for="year-filter">Год:</label>
               <select id="year-filter">
                  <option value="all">Все годы</option>
                  <option value="2023">2023</option>
                  <option value="2024">2024</option>
               </select>
            </div>

            <div class="filter-group">
               <label for="month-filter">Месяц:</label>
               <select id="month-filter">
                  <option value="all">Все месяцы</option>
                  <option value="1">Январь</option>
                  <option value="2">Февраль</option>
                  <option value="3">Март</option>
                  <option value="4">Апрель</option>
                  <option value="5">Май</option>
                  <option value="6">Июнь</option>
                  <option value="7">Июль</option>
                  <option value="8">Август</option>
                  <option value="9">Сентябрь</option>
                  <option value="10">Октябрь</option>
                  <option value="11">Ноябрь</option>
                  <option value="12">Декабрь</option>
               </select>
            </div>
         </div>

         <div class="news-grid" id="news-container">
            <!-- Все новости будут загружены через JavaScript -->
         </div>

         <div class="pagination" id="pagination">
            <!-- Пагинация будет создана через JavaScript -->
         </div>
      </section>
   </section>

   <!-- Модальное окно для новости -->
   <div class="modal" id="news-modal">
      <div class="modal-content">
         <span class="close-modal" id="close-modal">&times;</span>
         <h2 class="modal-title" id="modal-title">Заголовок новости</h2>
         <div class="modal-date" id="modal-date">Дата публикации</div>
         <div class="modal-main-image">
            <img id="modal-main-image" src="" alt="Главное изображение новости">
         </div>
         <div class="modal-text" id="modal-text">
            Полный текст новости...
         </div>
         <div class="modal-gallery">
            <h3 class="gallery-title">Галерея изображений</h3>
            <div class="news_news_news_slider_container">
               <div class="news_news_slider" id="news_news_slider">
                  <!-- Слайды будут добавлены через JavaScript -->
               </div>
               <button class="news_news_slider-arrow prev" id="prev-btn">&#10094;</button>
               <button class="news_news_slider-arrow next" id="next-btn">&#10095;</button>
            </div>
            <div class="news_news_slider-controls">
               <div class="news_news_slider-news_dots" id="news_news_slider-news_dots">
                  <!-- Точки будут добавлены через JavaScript -->
               </div>
            </div>
         </div>
      </div>
   </div>

   <!-- Полноэкранный просмотр изображения -->
   <div class="fullscreen-image" id="fullscreen-image">
      <span class="close-fullscreen">&times;</span>
      <div class="fullscreen-container">
         <button class="fullscreen-arrow prev" id="fullscreen-prev">&#10094;</button>
         <img src="" alt="Полноэкранное изображение">
         <button class="fullscreen-arrow next" id="fullscreen-next">&#10095;</button>
      </div>
      <div class="fullscreen-caption" id="fullscreen-caption"></div>
   </div>

   <script>
      // Данные новостей
      const newsData = [
         {
            id: 1,
            title: "Новые технологии в веб-разработке",
            summary: "Обзор последних тенденций и инструментов для современных разработчиков.",
            fullText: "Веб-разработка продолжает стремительно развиваться. В этом году мы увидели появление новых фреймворков, улучшение существующих инструментов и изменение подходов к созданию веб-приложений. Особое внимание уделяется производительности, доступности и безопасности. React и Vue.js остаются лидерами среди фронтенд-фреймворков, в то время как на бэкенде популярность набирают Node.js и Python с Django. Также растет интерес к серверless архитектурам и микросервисам.",
            date: "2024-05-15",
            images: [
               "https://images.unsplash.com/photo-1627398242454-45a1465c2479?ixlib=rb-4.0.3&auto=format&fit=crop&w=1200&q=80",
               "https://images.unsplash.com/photo-1555066931-4365d14bab8c?ixlib=rb-4.0.3&auto=format&fit=crop&w=1200&q=80",
               "https://images.unsplash.com/photo-1547658719-da2b51169166?ixlib=rb-4.0.3&auto=format&fit=crop&w=1200&q=80"
            ]
         },
         {
            id: 2,
            title: "Искусственный интеллект в медицине",
            summary: "Как ИИ помогает врачам ставить точные диагнозы и разрабатывать новые лекарства.",
            fullText: "Искусственный интеллект революционизирует медицину. Алгоритмы машинного обучения уже сегодня помогают анализировать медицинские изображения, предсказывать развитие заболеваний и персонализировать лечение. В диагностике рака ИИ показывает точность, сравнимую с опытными врачами. Также ИИ используется для разработки новых лекарств, значительно ускоряя этот процесс. Эти технологии не заменят врачей, но станут мощным инструментом в их руках.",
            date: "2024-04-22",
            images: [
               "img/bg_1.jpg",
               "img/news/news_1.jpg"
            ]
         },
         {
            id: 3,
            title: "Кибербезопасность в 2024 году",
            summary: "Основные угрозы и методы защиты от кибератак для бизнеса и частных пользователей.",
            fullText: "С ростом цифровизации увеличивается и количество кибератак. В 2024 году эксперты прогнозируют рост фишинговых атак, атак вымогателей и целевых атак на критическую инфраструктуру. Для защиты необходимо использовать многофакторную аутентификацию, регулярно обновлять программное обеспечение и обучать сотрудников основам кибергигиены. Также важно иметь план реагирования на инциденты и регулярно делать резервные копии данных.",
            date: "2024-03-10",
            images: [
               "https://images.unsplash.com/photo-1550751827-4bd374c3f58b?ixlib=rb-4.0.3&auto=format&fit=crop&w=1200&q=80",
               "https://images.unsplash.com/photo-1563013544-824ae1b704d3?ixlib=rb-4.0.3&auto=format&fit=crop&w=1200&q=80"
            ]
         },
         {
            id: 4,
            title: "Развитие электромобилей в мире",
            summary: "Тенденции рынка электромобилей и перспективы развития инфраструктуры зарядных станций.",
            fullText: "Рынок электромобилей продолжает расти рекордными темпами. Ведущие автопроизводители активно инвестируют в разработку новых моделей и строительство заводов по производству аккумуляторов. Параллельно развивается инфраструктура зарядных станций. Правительства многих стран поддерживают переход на электромобили через субсидии и налоговые льготы. Ожидается, что к 2030 году доля электромобилей в мировых продажах достигнет 30%.",
            date: "2024-02-28",
            images: [
               "https://images.unsplash.com/photo-1593941707882-a5bba533b89d?ixlib=rb-4.0.3&auto=format&fit=crop&w=1200&q=80",
               "https://images.unsplash.com/photo-1503376780353-7e6692767b70?ixlib=rb-4.0.3&auto=format&fit=crop&w=1200&q=80"
            ]
         },
         {
            id: 5,
            title: "Образование в цифровую эпоху",
            summary: "Как онлайн-курсы и цифровые технологии меняют подход к обучению.",
            fullText: "Цифровые технологии кардинально изменили образование. Онлайн-курсы, виртуальные классы и интерактивные учебные материалы стали неотъемлемой частью обучения. Это позволяет получать знания из любой точки мира и в удобное время. Однако важно сохранять баланс между цифровыми и традиционными методами обучения. Также возрастает роль soft skills - критического мышления, креативности и сотрудничества, которые сложно развивать исключительно через онлайн-формат.",
            date: "2023-12-15",
            images: [
               "https://images.unsplash.com/photo-1503676260728-1c00da094a0b?ixlib=rb-4.0.3&auto=format&fit=crop&w=1200&q=80",
               "https://images.unsplash.com/photo-1486312338219-ce68d2c6f44d?ixlib=rb-4.0.3&auto=format&fit=crop&w=1200&q=80"
            ]
         },
         {
            id: 6,
            title: "Удаленная работа: плюсы и минусы",
            summary: "Анализ преимуществ и недостатков удаленного формата работы после пандемии.",
            fullText: "Пандемия ускорила переход на удаленную работу, и многие компании решили сохранить этот формат. Среди преимуществ - гибкий график, отсутствие необходимости тратить время на дорогу и возможность работать из любой точки мира. Однако есть и недостатки: размытие границ между работой и личной жизнью, сложности в коммуникации и снижение социального взаимодействия. Успешная удаленная работа требует самодисциплины и правильной организации рабочего пространства.",
            date: "2023-11-05",
            images: [
               "https://images.unsplash.com/photo-1521791055366-0d553872125f?ixlib=rb-4.0.3&auto=format&fit=crop&w=1200&q=80",
               "https://images.unsplash.com/photo-1589652717521-10c0d092dea9?ixlib=rb-4.0.3&auto=format&fit=crop&w=1200&q=80"
            ]
         },
         {
            id: 7,
            title: "Устойчивое развитие и экология",
            summary: "Как компании внедряют экологичные практики в свои бизнес-процессы.",
            fullText: "Устойчивое развитие становится ключевым приоритетом для бизнеса. Компании внедряют экологичные практики: сокращают углеродный след, используют возобновляемые источники энергии, перерабатывают отходы и разрабатывают продукты с учетом их жизненного цикла. Потребители все чаще выбирают экологически ответственные бренды. Однако для реальных изменений необходимы системные решения и сотрудничество между бизнесом, государством и обществом.",
            date: "2023-10-18",
            images: [
               "https://images.unsplash.com/photo-1542601906990-b4d3fb778b09?ixlib=rb-4.0.3&auto=format&fit=crop&w=1200&q=80",
               "https://images.unsplash.com/photo-1569163139394-de4e4f43e4e5?ixlib=rb-4.0.3&auto=format&fit=crop&w=1200&q=80"
            ]
         },
         {
            id: 8,
            title: "Будущее космических технологий",
            summary: "Перспективы освоения космоса и коммерциализации космических полетов.",
            fullText: "Космическая отрасль переживает настоящий ренессанс. Частные компании активно развивают технологии для космических полетов, спутниковой связи и исследования космоса. Планы по колонизации Марса, добыче полезных ископаемых на астероидах и строительству орбитальных станций становятся все более реалистичными. Однако перед человечеством стоят серьезные технические и этические вызовы, связанные с освоением космоса.",
            date: "2024-09-03",
            images: [
               "https://images.unsplash.com/photo-1446776877081-d282a0f896e2?ixlib=rb-4.0.3&auto=format&fit=crop&w=1200&q=80",
               "https://images.unsplash.com/photo-1446776653964-20c1d3a81b06?ixlib=rb-4.0.3&auto=format&fit=crop&w=1200&q=80"
            ]
         }
      ];

      // Элементы DOM
      const latestNewsContainer = document.getElementById('latest-news-container');
      const newsContainer = document.getElementById('news-container');
      const paginationContainer = document.getElementById('pagination');
      const yearFilter = document.getElementById('year-filter');
      const monthFilter = document.getElementById('month-filter');
      const newsModal = document.getElementById('news-modal');
      const closeModal = document.getElementById('close-modal');
      const modalTitle = document.getElementById('modal-title');
      const modalDate = document.getElementById('modal-date');
      const modalText = document.getElementById('modal-text');
      const modalMainImage = document.getElementById('modal-main-image');
      const news_news_slider = document.getElementById('news_news_slider');
      const news_news_slidernews_dots = document.getElementById('news_news_slider-news_dots');
      const prevBtn = document.getElementById('prev-btn');
      const nextBtn = document.getElementById('next-btn');
      const fullscreenImage = document.getElementById('fullscreen-image');
      const fullscreenImg = fullscreenImage.querySelector('img');
      const fullscreenCaption = document.getElementById('fullscreen-caption');
      const closeFullscreen = fullscreenImage.querySelector('.close-fullscreen');
      const fullscreenPrev = document.getElementById('fullscreen-prev');
      const fullscreenNext = document.getElementById('fullscreen-next');

      // Переменные состояния
      let currentPage = 1;
      const newsPerPage = 6;
      let filteredNews = [...newsData];
      let currentnews_slide_2 = 0;
      let currentNewsImages = [];
      let fullscreencurrentnews_slide_2 = 0;

      // Переменные для обработки свайпов
      let startX = 0;
      let currentX = 0;
      let isSwiping = false;

      // Функция инициализации приложения
      function init() {
         renderLatestNews(); // Отрисовка последних новостей
         renderNews(); // Отрисовка всех новостей
         setupFilters(); // Настройка фильтров
         setupEventListeners(); // Настройка обработчиков событий
         setupSwipeHandlers(); // Настройка обработчиков свайпов
      }

      // Функция отрисовки последних новостей (3 самые свежие)
      function renderLatestNews() {
         // Очистка контейнера
         latestNewsContainer.innerHTML = '';

         // Сортируем новости по дате (от новых к старым) и берем первые 3
         const latestNews = [...newsData]
            .sort((a, b) => new Date(b.date) - new Date(a.date))
            .slice(0, 3);

         // Создание карточек последних новостей
         latestNews.forEach(news => {
            const newsCard = document.createElement('div');
            newsCard.className = 'latest-news-card';
            newsCard.setAttribute('data-id', news.id);

            // Форматирование даты
            const date = new Date(news.date);
            const formattedDate = date.toLocaleDateString('ru-RU', {
               year: 'numeric',
               month: 'long',
               day: 'numeric'
            });

            // Заполняем карточку содержимым (без кнопки "Читать далее")
            newsCard.innerHTML = `
                    <img src="${news.images[0]}" alt="${news.title}" class="latest-news-image">
                    <div class="latest-news-content">
                        <div class="latest-news-date">${formattedDate}</div>
                        <h3 class="latest-news-title">${news.title}</h3>
                        <p class="latest-news-summary">${news.summary}</p>
                    </div>
                `;

            // Добавляем карточку в контейнер
            latestNewsContainer.appendChild(newsCard);
         });
      }

      // Функция отрисовки всех новостей
      function renderNews() {
         newsContainer.innerHTML = '';

         const startIndex = (currentPage - 1) * newsPerPage;
         const endIndex = startIndex + newsPerPage;
         const newsToShow = filteredNews.slice(startIndex, endIndex);

         if (newsToShow.length === 0) {
            newsContainer.innerHTML = '<p style="grid-column: 1 / -1; text-align: center; padding: 40px;">Новости не найдены</p>';
            paginationContainer.innerHTML = '';
            return;
         }

         newsToShow.forEach(news => {
            const newsCard = document.createElement('div');
            newsCard.className = 'news-card';
            newsCard.setAttribute('data-id', news.id);

            const date = new Date(news.date);
            const formattedDate = date.toLocaleDateString('ru-RU', {
               year: 'numeric',
               month: 'long',
               day: 'numeric'
            });

            // Заполняем карточку содержимым (без ссылки "Читать далее")
            newsCard.innerHTML = `
                    <img src="${news.images[0]}" alt="${news.title}" class="news-image">
                    <div class="news-content">
                        <div class="news-date">${formattedDate}</div>
                        <h3 class="news-title">${news.title}</h3>
                        <p class="news-summary">${news.summary}</p>
                    </div>
                `;

            newsContainer.appendChild(newsCard);
         });

         renderPagination();
      }

      function renderPagination() {
         const totalPages = Math.ceil(filteredNews.length / newsPerPage);

         paginationContainer.innerHTML = '';

         if (totalPages < 2) return;

         for (let i = 1; i <= totalPages; i++) {
            const pageBtn = document.createElement('button');
            pageBtn.className = `page-btn ${i === currentPage ? 'active' : ''}`;
            pageBtn.textContent = i;
            pageBtn.addEventListener('click', () => {
               currentPage = i;
               renderNews();
            });

            paginationContainer.appendChild(pageBtn);
         }
      }

      function setupFilters() {
         yearFilter.addEventListener('change', applyFilters);
         monthFilter.addEventListener('change', applyFilters);
      }

      function applyFilters() {
         const selectedYear = yearFilter.value;
         const selectedMonth = monthFilter.value;

         currentPage = 1;

         filteredNews = newsData.filter(news => {
            const newsDate = new Date(news.date);
            const newsYear = newsDate.getFullYear().toString();
            const newsMonth = (newsDate.getMonth() + 1).toString();

            const yearMatch = selectedYear === 'all' || newsYear === selectedYear;
            const monthMatch = selectedMonth === 'all' || newsMonth === selectedMonth;

            return yearMatch && monthMatch;
         });

         renderNews();
      }

      function setupSwipeHandlers() {
         setupSwipeForElement(news_news_slider, handlenews_news_sliderSwipe);
         setupSwipeForElement(fullscreenImage, handleFullscreenSwipe);
      }

      function setupSwipeForElement(element, callback) {
         element.addEventListener('touchstart', (e) => {
            startX = e.touches[0].clientX;
            currentX = startX;
            isSwiping = true;
         }, { passive: true });

         element.addEventListener('touchmove', (e) => {
            if (!isSwiping) return;
            currentX = e.touches[0].clientX;
         }, { passive: true });

         element.addEventListener('touchend', (e) => {
            if (!isSwiping) return;

            const diffX = startX - currentX;
            const minSwipeDistance = 50;

            if (Math.abs(diffX) > minSwipeDistance) {
               if (diffX > 0) {
                  callback(1);
               } else {
                  callback(-1);
               }
            }

            isSwiping = false;
         }, { passive: true });
      }

      function handlenews_news_sliderSwipe(direction) {
         changenews_slide(direction);
      }

      function handleFullscreenSwipe(direction) {
         changeFullscreennews_slide(direction);
      }

      function setupEventListeners() {
         // Обработчик для последних новостей - клик по любой области карточки
         latestNewsContainer.addEventListener('click', (e) => {
            // Находим ближайшую карточку новости
            const newsCard = e.target.closest('.latest-news-card');
            if (newsCard) {
               const newsId = parseInt(newsCard.getAttribute('data-id'));
               const news = newsData.find(item => item.id === newsId);

               if (news) {
                  openNewsModal(news);
               }
            }
         });

         // Обработчик для всех новостей - клик по любой области карточки
         newsContainer.addEventListener('click', (e) => {
            // Находим ближайшую карточку новости
            const newsCard = e.target.closest('.news-card');
            if (newsCard) {
               const newsId = parseInt(newsCard.getAttribute('data-id'));
               const news = newsData.find(item => item.id === newsId);

               if (news) {
                  openNewsModal(news);
               }
            }
         });

         // Остальные обработчики без изменений
         closeModal.addEventListener('click', closeNewsModal);
         newsModal.addEventListener('click', (e) => {
            if (e.target === newsModal) {
               closeNewsModal();
            }
         });

         prevBtn.addEventListener('click', () => changenews_slide(-1));
         nextBtn.addEventListener('click', () => changenews_slide(1));

         news_news_slider.addEventListener('click', (e) => {
            if (e.target.tagName === 'IMG') {
               const news_slideIndex = Array.from(news_news_slider.children).indexOf(e.target.parentElement);
               openFullscreenImage(news_slideIndex);
            }
         });

         fullscreenPrev.addEventListener('click', () => changeFullscreennews_slide(-1));
         fullscreenNext.addEventListener('click', () => changeFullscreennews_slide(1));

         closeFullscreen.addEventListener('click', closeFullscreenImage);
         fullscreenImage.addEventListener('click', (e) => {
            if (e.target === fullscreenImage) {
               closeFullscreenImage();
            }
         });
      }

      function openNewsModal(news) {
         const date = new Date(news.date);
         const formattedDate = date.toLocaleDateString('ru-RU', {
            year: 'numeric',
            month: 'long',
            day: 'numeric'
         });

         modalTitle.textContent = news.title;
         modalDate.textContent = formattedDate;
         modalText.textContent = news.fullText;
         modalMainImage.src = news.images[0];
         modalMainImage.alt = news.title;

         currentNewsImages = news.images;
         currentnews_slide_2 = 0;

         news_news_slider.innerHTML = '';
         news_news_slidernews_dots.innerHTML = '';

         news.images.forEach((image, index) => {
            const news_slide = document.createElement('div');
            news_slide.className = `news_slide ${index === 0 ? 'active' : ''}`;
            news_slide.innerHTML = `<img src="${image}" alt="${news.title} - изображение ${index + 1}">`;
            news_news_slider.appendChild(news_slide);

            const news_dot = document.createElement('div');
            news_dot.className = `news_dot ${index === 0 ? 'active' : ''}`;
            news_dot.addEventListener('click', () => goTonews_slide(index));
            news_news_slidernews_dots.appendChild(news_dot);
         });

         updatenews_news_slider();

         newsModal.style.display = 'block';
         document.body.style.overflow = 'hidden';
      }

      function closeNewsModal() {
         newsModal.style.display = 'none';
         document.body.style.overflow = 'auto';
      }

      function changenews_slide(direction) {
         currentnews_slide_2 += direction;

         if (currentnews_slide_2 < 0) {
            currentnews_slide_2 = currentNewsImages.length - 1;
         } else if (currentnews_slide_2 >= currentNewsImages.length) {
            currentnews_slide_2 = 0;
         }

         goTonews_slide(currentnews_slide_2);
      }

      function goTonews_slide(news_slideIndex) {
         currentnews_slide_2 = news_slideIndex;
         updatenews_news_slider();
      }

      function updatenews_news_slider() {
         news_news_slider.style.transform = `translateX(-${currentnews_slide_2 * 100}%)`;

         const news_dots = news_news_slidernews_dots.querySelectorAll('.news_dot');
         news_dots.forEach((news_dot, index) => {
            news_dot.classList.toggle('active', index === currentnews_slide_2);
         });
      }

      function openFullscreenImage(news_slideIndex) {
         fullscreencurrentnews_slide_2 = news_slideIndex;
         updateFullscreenImage();
         fullscreenImage.style.display = 'flex';
         document.body.style.overflow = 'hidden';
      }

      function closeFullscreenImage() {
         fullscreenImage.style.display = 'none';
         document.body.style.overflow = 'auto';
      }

      function changeFullscreennews_slide(direction) {
         fullscreencurrentnews_slide_2 += direction;

         if (fullscreencurrentnews_slide_2 < 0) {
            fullscreencurrentnews_slide_2 = currentNewsImages.length - 1;
         } else if (fullscreencurrentnews_slide_2 >= currentNewsImages.length) {
            fullscreencurrentnews_slide_2 = 0;
         }

         updateFullscreenImage();
      }

      function updateFullscreenImage() {
         fullscreenImg.src = currentNewsImages[fullscreencurrentnews_slide_2];
         fullscreenCaption.textContent = `Изображение ${fullscreencurrentnews_slide_2 + 1} из ${currentNewsImages.length}`;
      }

      // Запуск приложения
      init();
   </script>
</body>

</html>