<!DOCTYPE html>
<html lang="ru">

<head>
   <meta charset="UTF-8">
   <meta name="viewport" content="width=device-width, initial-scale=1.0">
   <title>Новости</title>
   <link rel="stylesheet" href="css/style.css">
   <link rel="shortcut icon" href="img/logo_black.svg" type="image/png">
   <!--Для Снежинок на новый ГОД -->
   <link href="https://cdn.jsdelivr.net/gh/Alaev-Co/snowflakes/dist/snow.min.css" rel="stylesheet">
   <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
</head>

<body>
   <!-- Для новогодних снежинок -->
   <script src="https://cdn.jsdelivr.net/gh/Alaev-Co/snowflakes/dist/Snow.min.js"></script>
   <script>
      new Snow();
   </script>

   <div class="wrapper">
      <div class="top_header">
         <div class="top_header__container">
            <div class="top_social_icons">
               <a target="_blank" href="http://instagram.com/remonthimmontazh?igshid=OGQ2MjdiOTE%3D"><img
                     src="img/instagram.svg" alt="instagram"></a>
               <a target="_blank" href="https://t.me/uprhm"><img src="img/telegramm.svg" alt="telegram"></a>
            </div>
            <div class="top_right">
               <div class="top_contact-info">
                  <a href="mailto:rhm@himzavod.by"> rhm@himzavod.by</a>
                  <a href="tel:+375232492229">+375 23 249-22-29</a>
               </div>
               <div class="top_language-switcher">
                  <div class="active">РУ</div>
                  <div>EN</div>
                  <div>БЕЛ</div>
               </div>
               <div class="accessibility-trigger ">
                  <div class="top_vision_helper" id="specialButton"><img id='glazd' src="img/eye.svg"
                        alt="Версия для слабовидящих">
                  </div>
               </div>
            </div>
         </div>
      </div>

      <header class="header header_bg">
         <div class="header__container">
            <div class="header_block">
               <div class="header_search_section" id="searchSection">
                  <span class="header_search_text">Поиск</span>
               </div>

               <div class="header_logo">
                  <a class="header_logo_link" href="index.html">
                     <img class="header_logo_img" src=" img/logo_white.svg" alt="logo">
                     <!-- Шляпа для нового года -->
                     <div class="new__year_logo"></div>
                  </a>
               </div>

               <div class="header_burger" id="burger">
                  <span id="open_menu" class="header_burger_menu">Меню</span>
                  <span id="close_menu" class="header_burger_clouse">Закрыть</span>
                  <div class="header_burger_line">
                     <span></span>
                     <span></span>
                     <span></span>
                  </div>
               </div>
            </div>
         </div>
         <nav class="header_nav" id="headernav">
            <ul class="header_menu">
               <li class="header_li"><a class="header_link" href="index.html">Главная</a></li>
               <li class="header_li"><a class="header_link" href="company.html">О компании</a></li>
               <li class="header_li"><a class="header_link" href="services.html">Услуги</a></li>
               <li class="header_li"><a class="header_link" href="contacts.html">Контакты</a></li>
               <li class="header_li"><a class="header_link" href="news.html">Новости</a></li>
               <li class="header_li"><a class="header_link" href="vacancies.html">Вакансии</a></li>
               <li class="header_li"><a class="header_link" href="documentation.html">Документация</a></li>
            </ul>
            <div class="mobile_contact_info">
               <a href="mailto:rhm@himzavod.by"> rhm@himzavod.by</a>
               <a href="tel:+375232492229">+375 23 249-22-29</a>
            </div>
         </nav>
      </header>

      <div class="menu_overlay" id="menuOverlay"></div>
      <div class="search_overlay" id="searchOverlay">
         <div class="search_form">
            <input type="text" class="search_input" placeholder="Введите запрос для поиска......(В разработке)">
            <div class="close_search" id="closeSearch">
               <span></span>
               <span></span>
            </div>
         </div>
      </div>

      <main class="main main_margin">
         <div class="obolochka_news">
            <section class="bread_crumbs">
               <div class="bread_crumbs__container">
                  <ul class="bread_crumbs_links">
                     <li class="bread_crumbs_li">
                        <a href="index.html" class="bread_crumbs_link">Главная</a>
                        <span class="bread_crumbs_span"><img src="icons/arrow_next.svg" alt=""></span>
                     </li>
                     <li class="bread_crumbs_li">
                        <a href="news.html" class="bread_crumbs_link">Новости</a>
                        <span class="bread_crumbs_span"><img src="icons/arrow_next.svg" alt=""></span>
                     </li>
                     <li class="bread_crumbs_li">
                        <span class="bread_crumbs_current" id="breadcrumb-title">Новость</span>
                     </li>
                  </ul>
                  <div class="bread_crumbs_title">
                     <p class="bread_crumbs_text" id="page-title">Новость</p>
                  </div>
               </div>
            </section>

            <article class="news-single__container">
               <div class="news-single__header">
                  <h1 class="news-single__title" id="news-title"></h1>
                  <div class="news-single__date" id="news-date"></div>
               </div>

               <div class="news-single__main-image">
                  <img id="news-main-image" src="" alt="">
               </div>

               <div class="news-single__content">
                  <div class="news-single__text" id="news-text"></div>

                  <div class="news-single__gallery">
                     <div class="news-single__slider-container">
                        <div class="news-single__slider" id="news-slider"></div>
                        <button class="news-single__slider-arrow prev" id="prev-btn">&#10094;</button>
                        <button class="news-single__slider-arrow next" id="next-btn">&#10095;</button>
                     </div>
                     <div class="news-single__slider-controls">
                        <div class="news-single__slider-dots" id="slider-dots"></div>
                     </div>
                  </div>

                  <!-- Кнопки навигации между новостями -->
                  <div class="news-single__navigation">
                     <a href="#" class="news-single__nav-link prev" id="prev-news">
                        <span class="nav-arrow">←</span>
                        <span class="nav-text">Предыдущая новость</span>
                     </a>
                     <a href="news.html" class="news-single__back-link">Все новости</a>
                     <a href="#" class="news-single__nav-link next" id="next-news">
                        <span class="nav-text">Следующая новость</span>
                        <span class="nav-arrow">→</span>
                     </a>
                  </div>
               </div>
            </article>
         </div>

         <!-- Полноэкранный просмотр изображения -->
         <div class="fullscreen-image" id="fullscreen-image">
            <span class="close-fullscreen">&times;</span>
            <div class="fullscreen-container">
               <button class="fullscreen-arrow prev" id="fullscreen-prev">&#10094;</button>
               <img src="" alt="Полноэкранное изображение">
               <button class="fullscreen-arrow next" id="fullscreen-next">&#10095;</button>
            </div>
            <div class="fullscreen-caption" id="fullscreen-caption"></div>
         </div>

         <section class="other_section other_section_index other_section_anim">
            <div class="other__container">
               <div class="other_block">
                  <a target="_blank" href="https://gomel-region.gov.by/ru/pamyat-ru/"><img class="other_img"
                        src="img/other/other_1.jpg" alt=""></a>
                  <a target="_blank"
                     href="https://president.gov.by/ru/events/2026-god-ob-avlen-godom-belorusskoj-zensiny/"><img
                        class="other_img" src="img/other/2026.jpg" alt=""></a>
                  <a target="_blank" href="https://belfert.by/"><img class="other_img" src="img/other/BelFert.jpg"
                        alt="photo"></a>
                  <a target="_blank" href="https://gomel-region.gov.by/ru/80-ru/"><img class="other_img"
                        src="img/other/other_4.jpg" alt=""></a>
                  <a target="_blank" href="https://president.gov.by/ru"><img class="other_img"
                        src="img/other/other_5.jpg" alt=""></a>
               </div>
            </div>
         </section>
      </main>

      <footer class="footer">
         <div class="footer__container">
            <div class="footer_block">
               <div class="footer_logo">
                  <a href="index.html"><img src="img/logo.svg" alt="logo"></a>
               </div>
               <nav class="footer_nav">
                  <ul class="footer_ul">
                     <li class="footer_li"><a class="footer_li_a" href="index.html">Главная</a></li>
                     <li class="footer_li"><a class="footer_li_a" href="company.html">О компании</a></li>
                     <li class="footer_li"><a class="footer_li_a" href="services.html">Услуги</a></li>
                     <li class="footer_li"><a class="footer_li_a" href="contacts.html">Контакты</a></li>
                     <li class="footer_li"><a class="footer_li_a" href="news.html">Новости</a></li>
                     <li class="footer_li"><a class="footer_li_a" href="vacancies.html">Вакансии</a></li>
                     <li class="footer_li"><a class="footer_li_a" href="documentation.html">Документация</a></li>
                  </ul>
                  <ul class="footer_ul nav_one">
                     <li class="footer_li"><a class="footer_li_a" href="index.html">Главная</a></li>
                     <li class="footer_li"><a class="footer_li_a" href="company.html">О компании</a></li>
                     <li class="footer_li"><a class="footer_li_a" href="services.html">Услуги</a></li>
                     <li class="footer_li"><a class="footer_li_a" href="contacts.html">Контакты</a></li>
                  </ul>
                  <ul class="footer_ul nav_twu">
                     <li class="footer_li"><a class="footer_li_a" href="news.html">Новости</a></li>
                     <li class="footer_li"><a class="footer_li_a" href="vacancies.html">Вакансии</a></li>
                     <li class="footer_li"><a class="footer_li_a" href="documentation.html">Документация</a></li>
                  </ul>
               </nav>

               <div class="footer_midle">
                  <div class="footer_midle_text">
                     <div class="footer_midle_text_info">Приёмная:</div>
                     <div class="footer_midle_text_links">
                        <a class="footer_midle_text_link" href="tel:+375232492229">+375 23 249-22-29</a>
                        <a class="footer_midle_text_link" href="mailto:rhm@himzavod.by">rhm@himzavod.by</a>
                     </div>
                  </div>
                  <div class="footer_midle_icons">
                     <a target="_blank" href="http://instagram.com/remonthimmontazh?igshid=OGQ2MjdiOTE%3D"><img
                           src="img/instagram.svg" alt="instagram"></a>
                     <a target="_blank" href="https://t.me/uprhm"><img src="img/telegramm.svg" alt="telegramm"></a>
                  </div>
               </div>
               <div class="footer_bot">
                  <a target="_blank"
                     href="https://yandex.by/maps/org/rsup_remontkhimmontazh/1233590479/?ll=30.866949%2C52.434099&mode=search&sll=27.555691%2C53.902735&sspn=0.480652%2C0.168886&text=%D1%80%D0%B5%D0%BC%D0%BE%D0%BD%D1%82%D1%85%D0%B8%D0%BC%D0%BC%D0%BE%D0%BD%D1%82%D0%B0%D0%B6&z=17"
                     class="footer_bot_adress">246012, Химзаводская, 5, Гомель, Республика Беларусь</a>
                  <div class="footer_bot_info">© 2026, РСУП "Ремонтхиммонтаж" УНП 491063479</div>
               </div>
            </div>
         </div>
      </footer>
   </div>

   <script src="js/news-data.js"></script>
   <script>
      // Элементы DOM
      const newsTitle = document.getElementById('news-title');
      const newsDate = document.getElementById('news-date');
      const newsText = document.getElementById('news-text');
      const newsMainImage = document.getElementById('news-main-image');
      const pageTitle = document.getElementById('page-title');
      const breadcrumbTitle = document.getElementById('breadcrumb-title');

      // Элементы слайдера
      const newsSlider = document.getElementById('news-slider');
      const sliderDots = document.getElementById('slider-dots');
      const prevBtn = document.getElementById('prev-btn');
      const nextBtn = document.getElementById('next-btn');

      // Навигация между новостями
      const prevNewsLink = document.getElementById('prev-news');
      const nextNewsLink = document.getElementById('next-news');

      // Полноэкранный просмотр
      const fullscreenImage = document.getElementById('fullscreen-image');
      const fullscreenImg = fullscreenImage.querySelector('img');
      const fullscreenCaption = document.getElementById('fullscreen-caption');
      const closeFullscreen = fullscreenImage.querySelector('.close-fullscreen');
      const fullscreenPrev = document.getElementById('fullscreen-prev');
      const fullscreenNext = document.getElementById('fullscreen-next');

      // Переменные состояния
      let currentNews = null;
      let currentSlide = 0;
      let currentNewsImages = [];
      let fullscreenCurrentSlide = 0;

      // Получение ID новости из URL
      function getNewsIdFromURL() {
         const urlParams = new URLSearchParams(window.location.search);
         const id = urlParams.get('id');
         return id ? parseInt(id) : null;
      }

      // Поиск новости по ID
      function findNewsById(id) {
         return newsData.find(news => news.id === id);
      }

      // Загрузка новости
      function loadNews() {
         const newsId = getNewsIdFromURL();

         if (!newsId) {
            showError('Новость не найдена');
            return;
         }

         const news = findNewsById(newsId);

         if (!news) {
            showError('Новость не найдена');
            return;
         }

         currentNews = news;
         currentNewsImages = news.images;

         // Установка заголовков
         document.title = `${news.title} | Новости`;
         newsTitle.textContent = news.title;
         pageTitle.textContent = news.title;
         breadcrumbTitle.textContent = news.title;

         // Форматирование даты
         const date = new Date(news.date);
         const formattedDate = date.toLocaleDateString('ru-RU', {
            year: 'numeric',
            month: 'long',
            day: 'numeric'
         });
         newsDate.textContent = formattedDate;

         // Главное изображение
         newsMainImage.src = news.images[0];
         newsMainImage.alt = news.title;

         // Текст новости
         newsText.innerHTML = news.fullText;

         // Добавление ссылки, если есть
         if (news.link) {
            const linkHtml = `<div class="news-single__link">
                <a href="${news.link}" target="_blank" rel="noopener noreferrer">
                    ${news.linkText || 'Читать подробнее'}
                </a>
            </div>`;
            newsText.innerHTML += linkHtml;
         }

         // Инициализация слайдера
         initSlider();

         // Настройка навигации между новостями
         setupNewsNavigation(newsId);
      }

      // Показать ошибку
      function showError(message) {
         newsTitle.textContent = message;
         pageTitle.textContent = message;
         breadcrumbTitle.textContent = message;
      }

      // Инициализация слайдера
      function initSlider() {
         // Очистка слайдера
         newsSlider.innerHTML = '';
         sliderDots.innerHTML = '';

         if (currentNewsImages.length <= 1) {
            document.querySelector('.news-single__slider-container').style.display = 'none';
            return;
         }

         // Создание слайдов
         currentNewsImages.forEach((image, index) => {
            const slide = document.createElement('div');
            slide.className = `news-single__slide ${index === 0 ? 'active' : ''}`;
            slide.innerHTML = `<img src="${image}" alt="${currentNews.title} - изображение ${index + 1}">`;
            newsSlider.appendChild(slide);

            // Точка для навигации
            const dot = document.createElement('div');
            dot.className = `news-single__dot ${index === 0 ? 'active' : ''}`;
            dot.addEventListener('click', () => goToSlide(index));
            sliderDots.appendChild(dot);
         });

         // Настройка обработчиков событий
         prevBtn.addEventListener('click', () => changeSlide(-1));
         nextBtn.addEventListener('click', () => changeSlide(1));

         // Обработчик клика на изображения слайдера
         newsSlider.addEventListener('click', (e) => {
            if (e.target.tagName === 'IMG') {
               const slideIndex = Array.from(newsSlider.children).indexOf(e.target.parentElement);
               openFullscreenImage(slideIndex);
            }
         });

         updateSlider();
      }

      // Изменение слайда
      function changeSlide(direction) {
         currentSlide += direction;

         if (currentSlide < 0) {
            currentSlide = currentNewsImages.length - 1;
         } else if (currentSlide >= currentNewsImages.length) {
            currentSlide = 0;
         }

         goToSlide(currentSlide);
      }

      // Переход к слайду
      function goToSlide(slideIndex) {
         currentSlide = slideIndex;
         updateSlider();
      }

      // Обновление слайдера
      function updateSlider() {
         newsSlider.style.transform = `translateX(-${currentSlide * 100}%)`;

         const dots = sliderDots.querySelectorAll('.news-single__dot');
         dots.forEach((dot, index) => {
            dot.classList.toggle('active', index === currentSlide);
         });
      }

      // Настройка навигации между новостями
      function setupNewsNavigation(currentId) {
         const currentIndex = newsData.findIndex(news => news.id === currentId);

         // Предыдущая новость
         if (currentIndex > 0) {
            const prevNews = newsData[currentIndex - 1];
            prevNewsLink.href = `news-single.html?id=${prevNews.id}`;
            prevNewsLink.querySelector('.nav-text').textContent = prevNews.title;
         } else {
            prevNewsLink.style.display = 'none';
         }

         // Следующая новость
         if (currentIndex < newsData.length - 1) {
            const nextNews = newsData[currentIndex + 1];
            nextNewsLink.href = `news-single.html?id=${nextNews.id}`;
            nextNewsLink.querySelector('.nav-text').textContent = nextNews.title;
         } else {
            nextNewsLink.style.display = 'none';
         }
      }

      // Полноэкранный просмотр
      function openFullscreenImage(slideIndex) {
         fullscreenCurrentSlide = slideIndex;
         updateFullscreenImage();
         fullscreenImage.style.display = 'flex';
         document.body.style.overflow = 'hidden';
      }

      function closeFullscreenImage() {
         fullscreenImage.style.display = 'none';
         document.body.style.overflow = 'auto';
      }

      function changeFullscreenSlide(direction) {
         fullscreenCurrentSlide += direction;

         if (fullscreenCurrentSlide < 0) {
            fullscreenCurrentSlide = currentNewsImages.length - 1;
         } else if (fullscreenCurrentSlide >= currentNewsImages.length) {
            fullscreenCurrentSlide = 0;
         }

         updateFullscreenImage();
      }

      function updateFullscreenImage() {
         fullscreenImg.src = currentNewsImages[fullscreenCurrentSlide];
      }

      // Настройка обработчиков событий
      function setupEventListeners() {
         closeFullscreen.addEventListener('click', closeFullscreenImage);
         fullscreenImage.addEventListener('click', (e) => {
            if (e.target === fullscreenImage) {
               closeFullscreenImage();
            }
         });

         fullscreenPrev.addEventListener('click', () => changeFullscreenSlide(-1));
         fullscreenNext.addEventListener('click', () => changeFullscreenSlide(1));
      }

      // Инициализация
      document.addEventListener('DOMContentLoaded', () => {
         loadNews();
         setupEventListeners();
      });
   </script>
   <script src="js/main.js" defer></script>
   <script src="https://lidrekon.ru/slep/js/jquery.js"></script>
   <script src="https://lidrekon.ru/slep/js/uhpv-hover-full.min.js"></script>
</body>

</html>